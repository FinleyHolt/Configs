# -----------------------------------------------------------------------------
# Basic PATH Setup
# -----------------------------------------------------------------------------
export PATH="$HOME/.local/bin:$PATH"

# -----------------------------------------------------------------------------
# Oh My Zsh Settings
# -----------------------------------------------------------------------------
export ZSH="$HOME/.oh-my-zsh"
ZSH_THEME="robbyrussell"
plugins=(git)

# -----------------------------------------------------------------------------
# Custom Plugin and Theme Sources
# -----------------------------------------------------------------------------
# Source Catppuccin syntax highlighting theme (adjust the path if necessary)
if [ -f "$HOME/.zsh/catppuccin_mocha-zsh-syntax-highlighting.zsh" ]; then
    source "$HOME/.zsh/catppuccin_mocha-zsh-syntax-highlighting.zsh"
else
    echo "Warning: Catppuccin syntax highlighting theme not found at $HOME/.zsh/catppuccin_mocha-zsh-syntax-highlighting.zsh"
fi

# Source zsh-syntax-highlighting if it exists
if [ -f "/usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh" ]; then
    source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
else
    echo "Warning: zsh-syntax-highlighting not found!"
fi

# -----------------------------------------------------------------------------
# Aliases for Colorized ls via colorls
# -----------------------------------------------------------------------------
alias ls='colorls'
alias l='colorls -l'
alias la='colorls -la'
alias lt='colorls --tree'

# -----------------------------------------------------------------------------
# Ruby Gems Bin Directory
# -----------------------------------------------------------------------------
# Check for Ruby gems in common locations and add to PATH
if [ -d "$HOME/.local/share/gem/ruby/3.3.0/bin" ]; then
    export PATH="$HOME/.local/share/gem/ruby/3.3.0/bin:$PATH"
elif [ -d "/usr/lib/ruby/gems/3.3.0/bin" ]; then
    export PATH="/usr/lib/ruby/gems/3.3.0/bin:$PATH"
fi

# -----------------------------------------------------------------------------
# Load Secrets (API Keys, etc.)
# -----------------------------------------------------------------------------
if [ -f "$HOME/.config/secrets.env" ]; then
    # This will export each non-commented line as an environment variable.
    export $(grep -v '^#' "$HOME/.config/secrets.env" | xargs)
fi

# -----------------------------------------------------------------------------
# Conda Initialization (Anaconda)
# -----------------------------------------------------------------------------
# Use conda from your Anaconda installation (universal using $HOME)
__conda_setup="$("$HOME/anaconda3/bin/conda" "shell.zsh" "hook" 2> /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    if [ -f "$HOME/anaconda3/etc/profile.d/conda.sh" ]; then
        . "$HOME/anaconda3/etc/profile.d/conda.sh"
    else
        export PATH="$HOME/anaconda3/bin:$PATH"
    fi
fi
unset __conda_setup

# Activate the 'Finley' Conda environment
conda activate Finley

